# Discord Bot Ping ワークフローに手動実行を追加する

- ステータス: 承認済み
- 日付: 2025-09-03
- タグ: GitHub Actions, 運用

技術ストーリー: Discord Bot の疎通確認を任意タイミングで実施できるようにしつつ、複雑さを増やさない運用方法を決定する。

## 背景 / 文脈

Discord Bot の疎通を確認したいタイミングが運用上で発生していたが、既存ワークフローは 30 分間隔のスケジュール実行のみだった。障害疑い時に即時確認できず、運用負荷が高かった。

## 決定ドライバ

- オペレーターが任意のタイミングで疎通確認を実行したい。
- フローはシンプルに保ち、誤検知を増やさない。
- 追加のリトライ制御は現時点で必要とされていない。

## 検討した選択肢

1. `workflow_dispatch` を追加して手動実行できるようにする（採択）。
2. 一定回数のリトライを自動で追加する。
3. スケジュールのみ維持し、運用でカバーする。

## 決定（採択）

GitHub Actions に `workflow_dispatch` を追加し、入力無しで手動実行できるようにする。リトライは導入せず、通知フローのシンプルさを維持する。

## 影響評価

### ポジティブな影響

- 障害疑い時に即時チェックでき、運用効率が向上する。
- フローをシンプルに保てるため、通知判定が明確になる。

### ネガティブな影響

- 手動実行回数が増えた場合、通知頻度が一時的に増える可能性がある。
- 誤操作による実行リスクがわずかに高まる。

## その他検討事項

- 自動リトライは不要と明示されたため、導入しない。
- スケジュールのみ維持する案は即応性の要件を満たせない。
